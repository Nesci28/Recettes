<form class="row mx-auto" [formGroup]="ingredientForm">
  <input
    id="typeahead-basic"
    type="text"
    class="form-control col-sm"
    formControlName="ingredient"
    [ngbTypeahead]="search"
    (selectItem)="itemSelected($event)"
    placeholder="Ingrédient"
  />
  <select class="custom-select py-2 col-sm" formControlName="ingType">
    <option value="" disabled selected hidden>Type</option>
    <option *ngFor="let type of typeArr; index as i" value="{{ i + 1 }}">{{
      type
    }}</option>
  </select>
  <input
    autocomplete="off"
    type="text"
    class="form-control col-sm"
    placeholder="Quantité"
    formControlName="quantity"
  />
  <select class="custom-select py-2 col-sm" formControlName="unit">
    <option value="" disabled selected hidden>Unité</option>
    <option *ngFor="let unit of unitArr; index as i" value="{{ i + 1 }}">{{
      unit
    }}</option>
  </select>
  <button
    class="col-sm-1 btn btn-info d-flex justify-content-center"
    (click)="submitIngredient()"
  >
    <i class="far fa-plus-square"></i>
  </button>
</form>
<div
  *ngIf="getFormErrors('ingredient')"
  class="d-block invalid-feedback col-sm"
>
  Veuillez entrer les Ingredients de la recette
</div>

<div *ngIf="ingredientList.length > 0">
  <ul
    class="list-group row mx-auto flex-row"
    *ngFor="let typeArr of getFilteredList()"
  >
    <li
      class="list-group-item d-flex justify-content-between align-items-center col-sm-6 col-md-4 col-lg-4"
      *ngFor="let ing of typeArr"
      [ngClass]="{
        'list-disabled': ingredient.disabled,
        'ingredient-legume': ingredient.ingType === 'légume',
        'ingredient-viande': ingredient.ingType === 'viande',
        'ingredient-poisson': ingredient.ingType === 'poisson',
        'ingredient-dairy': ingredient.ingType === 'dairy',
        'ingredient-fruit': ingredient.ingType === 'fruit',
        'ingredient-autre': ingredient.ingType === 'autre'
      }"
    >
      {{ ing.ingredient }}
      <div>
        <span class="badge badge-primary mr-2"
          >{{ ing.quantity }} / {{ ing.unit }}</span
        >
        <span
          class="badge badge-pill badge-danger pointer"
          (click)="removeIngredient(ingredient)"
        >
          <span aria-hidden="true">&times;</span>
        </span>
      </div>
    </li>
  </ul>
</div>
