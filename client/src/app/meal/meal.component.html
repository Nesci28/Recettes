<div>
  <div>
    <button class="btn btn-success mr-5" (click)="changeToModification()">
      Modifier
    </button>
    <h2 class="d-inline vertical-align-middle">{{ meal.name }}</h2>
  </div>

  <div *ngIf="meal" class="mt-3">
    <div class="row mx-auto">
      <div class="col-sm-6 img-responsive">
        <div class="img-thumbnail">
          <img
            [src]="getImage()"
            style="border-radius: 255px 25px 225px 25px/25px 225px 25px 255px;"
            alt="Aucune image"
            class="w-100"
          />
        </div>
      </div>
      <div class="col-sm-6">
        <ul class="list-group">
          <li
            *ngFor="let ingredient of meal.ingredients"
            class="list-group-item d-flex justify-content-between align-items-center pointer"
            [ngClass]="{
              'list-disabled': ingredient.disabled,
              'ingredient-legume': ingredient.type === 'lÃ©gume',
              'ingredient-viande': ingredient.type === 'viande',
              'ingredient-poisson': ingredient.type === 'poisson',
              'ingredient-dairy': ingredient.type === 'dairy',
              'ingredient-fruit': ingredient.type === 'fruit',
              'ingredient-autre': ingredient.type === 'autre'
            }"
            (click)="ingredient.disabled = !ingredient.disabled"
          >
            {{ ingredient.ingredient }}
            <span class="badge badge-primary badge-pill">{{
              ingredient.quantity
            }}</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="mt-3 col-md-12">
      <ul class="list-group">
        <li
          *ngFor="
            let instruction of meal.instructions;
            index as i;
            let odd = odd
          "
          class="list-group-item d-flex justify-content-between align-items-center pointer"
          (click)="instruction.disabled = !instruction.disabled"
          [ngClass]="{ 'list-disabled': instruction.disabled, 'list-odd': odd }"
        >
          <div
            *ngIf="!checkTypeOfInstruction(instruction)"
            class="d-flex justify-content-between w-100"
          >
            <div>{{ i + 1 }}) {{ instruction.instruction }}</div>
            <span
              *ngIf="instruction.disabled"
              class="badge badge-primary badge-pill text-decoration-none"
              >Finit</span
            >
          </div>

          <div *ngIf="checkTypeOfInstruction(instruction)">
            <div class="d-flex">
              <div *ngFor="let step of instruction; let last = last">
                <div
                  [ngClass]="[
                    step.selected ? 'instruction-show' : 'instruction-hidden',
                    !last ? 'instruction-divider' : ''
                  ]"
                  class="d-block"
                >
                  {{ step.selected ? step.instruction : step.author }}
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </div>
</div>
